<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Multicolour init example</title>

  <!-- Base -->
<meta name="identifier-url" content="site.url" />
<meta name="title" content="Multicolour init example" />
<meta name="description" content="A deep look into the output of the init command's output." />
<meta name="abstract" content="Multicolour examples" />
<meta name="keywords" content="multicolour, init, cli, example app" />
<meta name="author" content="New World Code Ltd" />
<meta name="revisit-after" content="7" />
<meta name="language" content="en" />
<meta name="copyright" content="© 2017 New World Code Ltd" />
<meta name="robots" content="Index" />


<!-- Social -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@getmulticolour">
<meta name="twitter:title" content="Multicolour init example">
<meta name="twitter:description" content="Multicolour examples">
<meta name="twitter:creator" content="@getmulticolour">
<meta name="twitter:image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png">

<meta itemprop="name" content="Multicolour init example">
<meta itemprop="description" content="Multicolour examples">
<meta itemprop="image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png">

<meta property="og:title" content="Multicolour init example" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://0.0.0.0:4000" />
<meta property="og:image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png" />
<meta property="og:description" content="Multicolour examples" />
<meta property="og:site_name" content="Multicolour init example" />

<link rel="icon" href="/images/iconography/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="/images/iconography/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/iconography/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/iconography/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/iconography/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/iconography/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/iconography/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/iconography/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/iconography/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/iconography/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/iconography/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/iconography/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/iconography/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/iconography/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#FF9999">
<meta name="msapplication-TileImage" content="/images/iconography/ms-icon-144x144.png">
<meta name="theme-color" content="#FF9999">



  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet" type="text/css" async>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://0.0.0.0:4000/examples/">
  <link rel="alternate" type="application/rss+xml" title="Multicolour - Rest API generator" href="http://0.0.0.0:4000/feed.xml">
</head>


<body>
    <main>
      <div class="general-nav">
    <nav>
        <a href="/" class="logo-link no-border" title="Multicolour - Rest API generator">
            <img class="nav-logo" src="/images/logo-stamp.svg" alt="Multicolour - Rest API generator">
        </a>

        <ul class="menu">
            <li>
                <a href="/examples/" title="Multicolour rest api generator examples">examples</a>
            </li>
            <li>
                <a href="/docs/0.6.3/" title="Multicolour docs">docs</a>
            </li>
            <li>
                <a href="/blog/" title="Multicolour blog">blog</a>
            </li>
        </ul>
    </nav>

    <menu class="breadcrumb-menu">
        <h1>Multicolour init example</h1>

        <div class="breadcrumbs">
  <a class="breadcrumbs-logo" href="/" title="Multicolour - Rest API generator">
    <img src="/images/iconography/android-icon-36x36.png" alt="Multicolour - Rest API generator">
  </a>

  <span class="arrow">&rarr;</span>

  

  <a class="current" href="/examples/" title="Multicolour init example">
    
    Multicolour init example
    
  </a>
</div>

    </menu>
</div>


      <section class="columns">
        <aside>
            <h2 class="title">Select example</h2>

            <section class="search">
                <input type="search" name="search" placeholder="search examples">
            </section>

            <ul class="search-results">
  
    <li
      data-keywords="init, quickstart, basic"
      
      class="active visible">
        Multicolour init example
      

      
      <small>
        A deep look into the output of the init command's output.
      </small>
      
    </li>
  
</ul>

        </aside>
        <article>
          <h1 id="multicolour-examples">Multicolour examples</h1>

<p>Multicolour tries to be as helpful as possible with creating and maintaining your REST APIs.</p>

<h2 id="getting-started">Getting Started</h2>

<p>Multicolour has a CLI to make your life easier, it includes a helper to create a bare bones project for you to get started with.</p>

<p><code class="highlighter-rouge">multicolour init .</code></p>

<p>in your target directory, this will start a wizard to guide you through the creation of your project. This will generate 3 files for you, <code class="highlighter-rouge">config.js</code>, <code class="highlighter-rouge">app.js</code> and <code class="highlighter-rouge">content/blueprints/example.js</code></p>

<h2 id="blueprints">Blueprints</h2>

<p>Multicolour stands on the shoulders of giants, our ORM is the popular <a href="https://github.com/balderdashy/waterline">Waterline ORM</a>. It has a rich api for creating database schemas without losing control of the underlying technology.</p>

<p>Multicolour uses this to allow you to write JSON and get a whole collection of software. If you’ve run <code class="highlighter-rouge">multicolour init</code> you’ll see a <code class="highlighter-rouge">content/</code> folder which also contains a <code class="highlighter-rouge">blueprints/</code> folder where you’ll see <code class="highlighter-rouge">example.js</code>.</p>

<h3 id="a-look-at-what-we-get">A look at what we get</h3>

<p>Looking at what we get by running <code class="highlighter-rouge">multicolour init .</code> we can see a few files generated for us. We’ll see the following file structure.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">- your-project/
  - content/
    - blueprints/
      - example.js
  - config.js
  - app.js</code></pre></figure>

<p>Your <code class="highlighter-rouge">content/blueprints/example.js</code> is your first blueprint, lets look at it’s anatomy.</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></td><td class="code"><pre><span class="s2">"use strict"</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">attributes</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"string"</span>
    <span class="p">},</span>
    <span class="na">age</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"integer"</span><span class="p">,</span>
      <span class="na">min</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="na">max</span><span class="p">:</span> <span class="mi">9000</span>
    <span class="p">},</span>
    <span class="na">password</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
      <span class="na">minLength</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="c1">// Before we create anything, make sure</span>
  <span class="c1">// to hash the password for security.</span>
  <span class="na">beforeCreate</span><span class="p">:</span> <span class="p">(</span><span class="nx">values</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Get the crypto library.</span>
    <span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">)</span>

    <span class="c1">// Create a hash, we're going to encrypt the password.</span>
    <span class="kr">const</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="s2">"sha1"</span><span class="p">)</span>
    <span class="nx">password</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">values</span><span class="p">.</span><span class="nx">password</span><span class="p">)</span>

    <span class="c1">// Apply the hash to the inbound values.</span>
    <span class="nx">values</span><span class="p">.</span><span class="nx">password</span> <span class="o">=</span> <span class="nx">password</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span>

    <span class="c1">// Move on.</span>
    <span class="nx">next</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The very first thing is the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode"><code class="highlighter-rouge">"use strict"</code></a> pragma, this simply helps prevent silly syntactical errors in your code by catching them early.</p>

<p><code class="highlighter-rouge">module.exports = {</code> this is the beginning of our <code class="highlighter-rouge">example</code> model definition. An object containing various keys and objects that configure both the database(s) and Multicolour.</p>

<p><code class="highlighter-rouge">attributes: {</code> are the columns and keys used in our actual database tables and collections, each key represents a column in your table with the associated type.</p>

<p><code class="highlighter-rouge">beforeCreate: (values, next) =&gt; {</code> is a special function called just before the actual creation of the row within the table/collection. This is your last chance to alter the values of the data being written to the database.</p>

<p>There are many other configurations that you can add to your blueprints to make Multicolour and Waterline work in exactly the way you want but it’s important to know that Multicolour tries not to modify any definition in any way, Multicolour fixes some known bugs with Waterline but does not alter your model.</p>

        </article>
      </section>
    </main>

    <footer class="site-footer">

  <ul>
    <li>
      <a href="/code-of-conduct" title="Multicolour code of conduct">
        Code of Conduct
      </a>
    </li>
    <li>
      <a href="/Multicolour_Branding_Guidelines_2016.pdf" target="_blank" rel="nofollow noopener noreferrer">
        Branding guidelines
      </a>
    </li>
    <li>
      <a href="https://github.com/Multicolour" target="_blank" rel="nofollow noopener noreferrer">
        Github Organisation
      </a>
    </li>
  </ul>
  <p>&copy; All copyright to Get Multicolour &amp; New World Code Ltd 2017</p>
</footer>

<script src="/js/main.js" async defer></script>
<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
    analytics.load("Qurt0kpTtzocuF8h8VgRH6ygztdQPK5i");
    analytics.page()
  }}();
</script>


</body>

</html>
