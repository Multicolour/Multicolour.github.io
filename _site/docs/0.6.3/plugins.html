<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Multicolour documentation plugins</title>

  <!-- Base -->
<meta name="identifier-url" content="site.url" />
<meta name="title" content="Multicolour documentation plugins" />
<meta name="description" content="Use plugins to create and extend REST API behaviour." />
<meta name="abstract" content="Writing Multicolour Plugins" />
<meta name="keywords" content="multicolour, plugins, rest api business logic" />
<meta name="author" content="New World Code Ltd" />
<meta name="revisit-after" content="7" />
<meta name="language" content="en" />
<meta name="copyright" content="© 2017 New World Code Ltd" />
<meta name="robots" content="Index" />


<!-- Social -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@getmulticolour">
<meta name="twitter:title" content="Multicolour documentation plugins">
<meta name="twitter:description" content="Writing Multicolour Plugins">
<meta name="twitter:creator" content="@getmulticolour">
<meta name="twitter:image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png">

<meta itemprop="name" content="Multicolour documentation plugins">
<meta itemprop="description" content="Writing Multicolour Plugins">
<meta itemprop="image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png">

<meta property="og:title" content="Multicolour documentation plugins" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://0.0.0.0:4000" />
<meta property="og:image" content="http://0.0.0.0:4000/images/MC_Icon_PurpleRain_Logotype.png" />
<meta property="og:description" content="Writing Multicolour Plugins" />
<meta property="og:site_name" content="Multicolour documentation plugins" />

<link rel="icon" href="/images/iconography/favicon.ico">
<link rel="apple-touch-icon" sizes="57x57" href="/images/iconography/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/iconography/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/iconography/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/iconography/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/iconography/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/iconography/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/iconography/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/iconography/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/iconography/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/iconography/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/iconography/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/iconography/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/iconography/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#FF9999">
<meta name="msapplication-TileImage" content="/images/iconography/ms-icon-144x144.png">
<meta name="theme-color" content="#FF9999">



  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet" type="text/css" async>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://0.0.0.0:4000/docs/0.6.3/plugins">
  <link rel="alternate" type="application/rss+xml" title="Multicolour - Rest API generator" href="http://0.0.0.0:4000/feed.xml">
</head>


<body>
    <main class="docs">
      <div class="general-nav">
    <nav>
        <a href="/" class="logo-link no-border" title="Multicolour - Rest API generator">
            <img class="nav-logo" src="/images/logo-stamp.svg" alt="Multicolour - Rest API generator">
        </a>

        <ul class="menu">
            <li>
                <a href="/examples/" title="Multicolour rest api generator examples">examples</a>
            </li>
            <li>
                <a href="/docs/" title="Multicolour docs">docs</a>
            </li>
            <li>
                <a href="/blog/" title="Multicolour blog">blog</a>
            </li>
        </ul>
    </nav>

    <menu class="breadcrumb-menu">
        <h1>Multicolour documentation plugins</h1>

        <div class="breadcrumbs">
  <a class="breadcrumbs-logo" href="/" title="Multicolour - Rest API generator">
    <img src="/images/iconography/android-icon-36x36.png" alt="Multicolour - Rest API generator">
  </a>

  <span class="arrow">&rarr;</span>

  
  
  <a href="/docs/" title="docs">
    docs
  </a>

  <span class="arrow">&rarr;</span>
  
  <a href="/docs/0.6.3/" title="0.6.3">
    0.6.3
  </a>

  <span class="arrow">&rarr;</span>
  
  

  <a class="current" href="/docs/0.6.3/plugins" title="Multicolour documentation plugins">
    
    Writing plugins
    
  </a>
</div>

    </menu>
</div>


      <section class="columns">
        <aside>
            
            <h2 class="title">Docs <span>0.6.3</span></h2>
            
            <section class="search">
                <input type="search" name="search" placeholder="search the docs">
            </section>

            
            

<script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "APIReference",
        "headline": "Multicolour documentation plugins",
        "assemblyVersion": "0.6.3",
        "executableLibraryName": "multicolour",
        "targetPlatform": "NodeJS",
        "keywords": "multicolour, plugins, rest api business logic",
        "learningResourceType": ["learning activity"],
        "wordCount": "336",
        "datePublished": "2017-03-08 10:25:01 +0000",
        "url": "/docs/0.6.3/plugins",
        "publisher": {
            "@type": "Organization",
            "name": "Multicolour",
            "sameAs": [
                "https://twitter.com/getmulticolour",
                "https://github.com/Multicolour"
            ],
            "logo": {
                "@type": "ImageObject",
                "contentUrl": "http://0.0.0.0:4000/images/logo.png",
                "url": "http://0.0.0.0:4000"
            }
        },
        "image":{
            "@type":"ImageObject",
            "contentUrl":"http://0.0.0.0:4000/images/social-header.jpg",
            "url":"http://0.0.0.0:4000",
            "height":"500",
            "width":"1500"
         },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http://0.0.0.0:4000/docs/0.6.3/plugins"
        },
        "articleBody": "Writing Multicolour PluginsYou’ve written loads of awesome new functionality in your custom_routes callback and are thinking “I’d like to distribute my awesome code as a package”, either internally or on npm.You need a plugin, plugins make sharing and using your custom functionality easy.What is a Multicolour plugin?A Muticolour plugin is simply a class that encapsulates your custom behaviour, there aren’t any limitations or locks or blocks to the rest of Multicolour or any other plugins you’re using so you can do what you need to do unincumbered.All plugins are automatically extended with the talkie interface and is assigned a host as well as a unique (unique every time) id. Both can be .request()-ed directly from your plugin. I.E this.request(&quot;host&quot;) or this.request(&quot;id&quot;).Example Multicolour pluginAn example Multicolour plugin that adds a new route to the route table looks like this:// This file is called ./plugins/awesome/index.jsmodule.exports = class {  // Register is the only required member function.  register(multicolour) {    const server = multicolour.get(&quot;server&quot;).request(&quot;raw&quot;)    server.route({      path: &quot;/hello/{name}&quot;,      config: {        handler: (request, reply) =&amp;gt; {          reply(`Hey there, ${requet.params.name}`)        },        validate: {          params: {            name: require(&quot;joi&quot;).string().required()          }        }      }    })  }}Once you’ve saved your plugin, to use it simply add .use(require(&quot;./plugins/awesome&quot;)) to your main app.js (Use the other .use()-es as reference to where, your app.js might be different.)Run your service and your plugin will register and run. Easy as that."
    }
</script>


            <ul class="search-results">
  
  
    <li
      data-keywords="multicolour API, API reference"
      
      class="visible"
      >
      <a href="/docs/0.6.3/api-reference" title="Multicolour core API reference">
        API Reference
      </a>
      

      
    </li>
  
    <li
      data-keywords="multicolour, cli"
      
      class="visible"
      >
      <a href="/docs/0.6.3/cli" title="Multicolour documentation CLI">
        CLI
      </a>
      

      
    </li>
  
    <li
      data-keywords="waterline blueprints, multicolour collection, database, table, define, migration"
      
      class="visible"
      >
      <a href="/docs/0.6.3/collections/" title="Multicolour documentation collections">
        Collections/Blueprints
      </a>
      

      
    </li>
  
    <li
      data-keywords="multicolour config, server configuration, rest api config"
      
      class="visible"
      >
      <a href="/docs/0.6.3/configuration" title="Multicolour documentation configuration">
        Configuration
      </a>
      

      
    </li>
  
    <li
      data-keywords="codeless business logic, multicolour constraints"
      
      class="visible"
      >
      <a href="/docs/0.6.3/collections/constraints/" title="Multicolour documentation constraints">
        Constraints
      </a>
      

      
    </li>
  
    <li
      data-keywords="database, migration, data, existing database, automatic"
      
      class="visible"
      >
      <a href="/docs/0.6.3/collections/migration/" title="Multicolour documentation database migration">
        Database migration
      </a>
      

      
    </li>
  
    <li
      data-keywords="multicolour, rest api, debugging"
      
      class="visible"
      >
      <a href="/docs/0.6.3/debugging" title="Multicolour documentation debugging tips">
        Debugging
      </a>
      

      
    </li>
  
    <li
      data-keywords=""
      
      class="visible"
      >
      <a href="/docs/0.6.3/quickstart" title="Multicolour quickstart">
        Quickstart
      </a>
      

      
    </li>
  
    <li
      data-keywords="multicolour, javascript sdk"
      
      class="visible"
      >
      <a href="/docs/0.6.3/javascript-sdk" title="Multicolour documentation JavaScript SDK generator">
        JavaScript SDK
      </a>
      

      
    </li>
  
    <li
      data-keywords="multicolour, plugins, rest api business logic"
      
      class="active visible">
        Writing plugins
      

      
    </li>
  
    <li
      data-keywords="multicolour, REST API routes, routing"
      
      class="visible"
      >
      <a href="/docs/0.6.3/routing/" title="Multicolour documentation routing">
        Routing
      </a>
      

      
    </li>
  
    <li
      data-keywords="rest api query, results filtering, searching"
      
      class="visible"
      >
      <a href="/docs/0.6.3/routing/results/" title="Multicolour documentation result filtering">
        Results Filtering
      </a>
      

      
    </li>
  
    <li
      data-keywords="file uploads, multicolour, rest api file uploads"
      
      class="visible"
      >
      <a href="/docs/0.6.3/routing/file-uploads/" title="Multicolour documentation file uploads">
        Uploading files
      </a>
      

      
    </li>
  
</ul>

            
        </aside>
        <article>
          <h1 id="writing-multicolour-plugins">Writing Multicolour Plugins</h1>

<p>You’ve written loads of awesome new functionality in your <code class="highlighter-rouge">custom_routes</code> callback and are thinking “I’d like to distribute my awesome code as a package”, either internally or on npm.</p>

<p>You need a plugin, plugins make sharing and using your custom functionality easy.</p>

<h2 id="what-is-a-multicolour-plugin">What is a Multicolour plugin?</h2>

<p>A Muticolour plugin is simply a class that encapsulates your custom behaviour, there aren’t any limitations or locks or blocks to the rest of Multicolour or any other plugins you’re using so you can do what you need to do unincumbered.</p>

<p>All plugins are automatically extended with the talkie interface and is assigned a <code class="highlighter-rouge">host</code> as well as a unique (unique every time) id. Both can be <code class="highlighter-rouge">.request()</code>-ed directly from your plugin. I.E <code class="highlighter-rouge">this.request("host")</code> or <code class="highlighter-rouge">this.request("id")</code>.</p>

<h2 id="example-multicolour-plugin">Example Multicolour plugin</h2>

<p>An example Multicolour plugin that adds a new route to the route table looks like this:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// This file is called ./plugins/awesome/index.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kr">class</span> <span class="p">{</span>
  <span class="c1">// Register is the only required member function.</span>
  <span class="nx">register</span><span class="p">(</span><span class="nx">multicolour</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">multicolour</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"server"</span><span class="p">).</span><span class="nx">request</span><span class="p">(</span><span class="s2">"raw"</span><span class="p">)</span>

    <span class="nx">server</span><span class="p">.</span><span class="nx">route</span><span class="p">({</span>
      <span class="na">path</span><span class="p">:</span> <span class="s2">"/hello/{name}"</span><span class="p">,</span>
      <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">handler</span><span class="p">:</span> <span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">reply</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">reply</span><span class="p">(</span><span class="err">`</span><span class="nx">Hey</span> <span class="nx">there</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">requet</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="err">`</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="na">validate</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">params</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">name</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"joi"</span><span class="p">).</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Once you’ve saved your plugin, to use it simply add <code class="highlighter-rouge">.use(require("./plugins/awesome"))</code> to your main <code class="highlighter-rouge">app.js</code> (Use the other <code class="highlighter-rouge">.use()</code>-es as reference to where, your <code class="highlighter-rouge">app.js</code> might be different.)</p>

<p>Run your service and your plugin will register and run. Easy as that.</p>

        </article>
      </section>
    </main>

    <footer class="site-footer">

  <ul>
    <li>
      <a href="/code-of-conduct" title="Multicolour code of conduct">
        Code of Conduct
      </a>
    </li>
    <li>
      <a href="/Multicolour_Branding_Guidelines_2016.pdf" target="_blank" rel="nofollow noopener noreferrer">
        Branding guidelines
      </a>
    </li>
    <li>
      <a href="https://github.com/Multicolour" target="_blank" rel="nofollow noopener noreferrer">
        Github Organisation
      </a>
    </li>
  </ul>
  <p>&copy; All copyright to Get Multicolour &amp; New World Code Ltd 2017</p>
</footer>

<script src="/js/main.js" async defer></script>
<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
    analytics.load("Qurt0kpTtzocuF8h8VgRH6ygztdQPK5i");
    analytics.page()
  }}();
</script>


</body>

</html>
