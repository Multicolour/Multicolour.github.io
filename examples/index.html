<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Multicolour - NodeJS REST API generator.</title>

    <!-- @TODO REMOVE BEFORE GOING LIVE. IS FOR RAWGIT -->
    <script>
      if (window.location.host === "cdn.rawgit.com" || window.location.host === "rawgit.com")
        document.write("<base href=\"" + window.location.protocol + "//" + window.location.host + "/Multicolour/Multicolour.github.io/0.4.0/\" />")
      else
        document.write("<base href=\"" + window.location.protocol + "//" + window.location.host + "/\" />")
    </script>

    <!-- Base meta. -->
    <meta name="identifier-url" content="https://getmulticolour.com" />
    <meta name="title" content="Multicolour - REST API &amp; single page app generator." />
    <meta name="description" content="Multicolour - REST API &amp; single page app generator using just JSON and Waterline." />
    <meta name="abstract" content="Multicolour - REST API &amp; single page app generator using just JSON and Waterline." />
    <meta name="keywords" content="multicolour, rest api, polymer, generator, nodejs" />
    <meta name="author" content="New World Code Ltd" />
    <meta name="revisit-after" content="15" />
    <meta name="language" content="EN" />
    <meta name="copyright" content="© 2016 New World Code Ltd" />
    <meta name="robots" content="Index" />

    <!-- Google+ -->
    <meta itemprop="name" content="Multicolour - REST API &amp; single page app generator.">
    <meta itemprop="description" content="Multicolour - REST API &amp; single page app generator using just JSON and Waterline.">
    <meta itemprop="image" content="https://getmulticolour.com/images/logo-text-outlined.png">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@getmulticolour">
    <meta name="twitter:title" content="Multicolour - REST API &amp; single page app generator.">
    <meta name="twitter:description" content="Multicolour - REST API &amp; single page app generator using just JSON and Waterline.">
    <meta name="twitter:creator" content="@getmulticolour">
    <meta name="twitter:image" content="https://getmulticolour.com/images/logo-text-outlined.png">

    <!-- Open Graph data -->
    <meta property="og:title" content="Multicolour - REST API &amp; single page app generator." />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://getmulticolour.com" />
    <meta property="og:image" content="https://getmulticolour.com/images/logo-text-outlined.png" />
    <meta property="og:description" content="Multicolour - REST API &amp; single page app generator using just JSON and Waterline." />
    <meta property="og:site_name" content="Multicolour - REST API &amp; single page app generator." />

    <!-- Browser behaviour -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet" type="text/css" async>
    <link href="stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="stylesheets/prism.css" media="screen, projection" rel="stylesheet" type="text/css" async>
  </head>

  <body class="examples">
    <main>
      <nav class="general-nav">
        <ul>
          <li>
            <a href="" class="no-border">
              <img class="nav-logo" src="images/logo-stamp.png" alt="Multicolour - REST API generator.">
            </a>
          </li>
          <li>
            <a href="examples">examples</a>
          </li>
          <li>
            <a href="docs/0.4.0">docs</a>
          </li>
          <li>
            <a href="https://medium.com/@getmulticolour" rel="nofollow">blog</a>
          </li>
        </ul>
      </nav>

      <section class="getting-started">
        <h1>Multicolour examples</h1>
        <p>Multicolour tries to be as helpful as possible with creating and maintaining your REST APIs.</p>

        <h2 id="getting-started">Getting Started</h2>
        <p>Multicolour has a CLI to make your life easier, it includes a helper to create a bare bones project for you to get started with.</p>
        <p><code>multicolour init .</code></p>
        <p>in your target directory, this will start a wizard to guide you through the creation of your project. This will generate 3 files for you, <code>config.js</code>, <code>app.js</code> and <code>content/blueprints/example.js</code></p>

        <h2 id="blueprints">Blueprints</h2>
        <p>Multicolour stands on the shoulders of giants, our ORM is the popular <a href="https://github.com/balderdashy/waterline">Waterline ORM</a>. It has a rich api for creating database schemas without losing control of the underlying technology.</p>
        <p>Multicolour uses this to allow you to write JSON and get a whole collection of software. If you’ve run <code>multicolour init</code> you’ll see a <code>content/</code> folder which also contains a <code>blueprints/</code> folder where you’ll see <code>example.js</code>.</p>

        <h3>A look at what we get</h3>
        <p>
          Looking at what we get by running <code>multicolour init .</code> we can see a few files generated for us. We'll see the following file structure.
        </p>
        <pre>
          <code class="language-javascript">
            - your-project/
              - content/
                - blueprints/
                  - example.js
              - config.js
              - app.js
          </code>
        </pre>

        <p>Your <code>content/blueprints/example.js</code> is your first blueprint, lets look at it's anatomy.</p>

        <pre>
          <code class="language-javascript">
            "use strict"

            module.exports = {
              attributes: {
                name: {
                  required: true,
                  type: "string"
                },
                age: {
                  required: true,
                  type: "integer",
                  min: 0,
                  max: 9000
                },
                password: {
                  required: true,
                  type: "string",
                  minLength: 5
                }
              },

              // Before we create anything, make sure
              // to hash the password for security.
              beforeCreate: (values, next) => {
                // Get the crypto library.
                const crypto = require("crypto")

                // Create a hash, we're going to encrypt the password.
                const password = crypto.createHash("sha1")
                password.update(values.password)

                // Apply the hash to the inbound values.
                values.password = password.digest("hex")

                // Move on.
                next()
              }
            }
          </code>
        </pre>

        <p>
          The very first thing is the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" rel="nofollow"><code>"use strict"</code></a> pragma, this simply helps prevent silly syntactical errors in your code by catching them early.
        </p>
        <p>
          <code>module.exports = {</code> this is the beginning of our <code>example</code> model definition. An object containing various keys and objects that configure both the database(s) and Multicolour.
        </p>
        <p>
          <code>attributes: {</code> are the columns and keys used in our actual database tables and collections, each key represents a column in your table with the associated type.
        </p>
        <p>
          <code>beforeCreate: (values, next) => {</code> is a special function called just before the actual creation of the row within the table/collection. This is your last chance to alter the values of the data being written to the database.
        </p>
        <p>
          There are many other configurations that you can add to your blueprints to make Multicolour and Waterline work in exactly the way you want but it's important to know that Multicolour tries not to modify any definition in any way, Multicolour fixes some known bugs with Waterline but does not alter your model.
        </p>
      </section>

      <section class="email-signup">
        <form
          method="post"
          enctype="multipart/form-data"
          action="https://getmulticolour.us12.list-manage.com/subscribe/post?u=bec938217586432b04e1ea290&amp;id=e5a068eb80">
          <fieldset name="email">
            <input
              name="EMAIL"
              type="email"
              alt="Enter your best email for news on Multicolour's development"
              placeholder="Enter your best email for news on Multicolour's development">
            <button
              type="submit"
              name="subscribe">
              SIGN UP
            </button>
          </fieldset>
        </form>
        <p class="really-small">
          Your email address is safe with us, you'll ONLY receive occasional news about Multicolour. Nothing and no one else, but us &hearts;
        </p>
      </section>

    </main>

    <script async src="prism.js"></script>
    <script>
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
        analytics.load("Qurt0kpTtzocuF8h8VgRH6ygztdQPK5i");
        analytics.page()
      }}();

      if (window.location.host === "cdn.rawgit.com" || window.location.host === "rawgit.com")
        [].slice.apply(document.querySelector("nav").querySelectorAll("a")).forEach(function(link) {
          link.setAttribute("href", link.getAttribute("href") + "/index.html")
        })
    </script>
  </body>
</html>
